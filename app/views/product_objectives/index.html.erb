<div class="max-w-4xl mx-auto py-8 px-4">
  <div class="flex items-center justify-between mb-6">
    <div>
      <div class="flex items-center space-x-2 mb-1">
        <%= link_to @product.name, product_path(@product), class: "text-sm text-gray-500 hover:text-gray-700" %>
        <span class="text-gray-400">/</span>
        <span class="text-sm text-gray-700">OKRs</span>
      </div>
      <h1 class="text-2xl font-bold text-gray-900"><%= @product.name %> OKRs</h1>
    </div>
    <%= link_to new_product_objective_path(@product),
        class: "bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700",
        data: { turbo_frame: "modal" } do %>
      + New Objective
    <% end %>
  </div>

  <% if @periods.present? %>
    <div class="flex space-x-2 mb-6 border-b border-gray-200">
      <% @periods.each do |period| %>
        <%= link_to period,
            product_objectives_path(@product, period: period),
            class: "px-4 py-2 text-sm font-medium border-b-2 -mb-px #{period == @current_period ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}" %>
      <% end %>
    </div>
  <% end %>

  <div id="objectives" class="space-y-6">
    <% @objectives.each do |objective| %>
      <%= render partial: "product_objectives/objective", locals: { objective: objective, product: @product } %>
    <% end %>

    <% if @objectives.empty? %>
      <div class="text-center py-12 bg-gray-50 rounded-lg">
        <p class="text-gray-500">No objectives for this period.</p>
        <%= link_to "Create your first objective", new_product_objective_path(@product),
            class: "text-blue-600 hover:text-blue-700 text-sm",
            data: { turbo_frame: "modal" } %>
      </div>
    <% end %>
  </div>
</div>

<%= turbo_frame_tag "modal" %>
